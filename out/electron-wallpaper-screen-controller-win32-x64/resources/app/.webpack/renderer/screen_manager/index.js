!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t){e.exports=require("electron")},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(0));t.CHANNEL="wallpapers",t.FILE_STORAGE_APPENDIX="-file",t.Display2StorageKey=function(e){return e.toString()+t.FILE_STORAGE_APPENDIX};var o=new RegExp("^(?<displayId>[0-9]+)("+t.FILE_STORAGE_APPENDIX+")$");t.StorageKey2Display=function(e){var r=o.exec(e);if(r.groups.displayId)return Number.parseInt(r.groups.displayId);throw new Error("Storage key must start with display id and end with "+t.FILE_STORAGE_APPENDIX+", not: "+e)},t.IsStorageKey=function(e){return o.test(e)},t.default=i.ipcRenderer},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(15));t.fs2Url=function(e){return{auth:null,path:null,slashes:null,query:null,hash:(t=i.default.pathToFileURL(e)).hash,host:t.host,hostname:t.hostname,href:t.href,pathname:t.pathname,protocol:t.protocol,search:t.search,port:t.port};var t},t.url2fs=function(e){return i.default.fileURLToPath(e.href)},t.href2Url=function(e){return i.default.parse(e,!1,!1)},t.href2fs=function(e){return t.url2fs(t.href2Url(e))},t.default=i.Url},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=document.createElement(e);return t&&(t.className&&r.classList.add(t.className),t.parent&&t.parent.appendChild(r),t.text&&(r.textContent=t.text),t.html&&(r.innerHTML=t.html)),r}},,,,function(e,t,r){e.exports=r(8)},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(9);var i=r(0),o=n(r(14));(new(function(){function e(){this.displays=[],this.views=[],this.screensWrapper=document.querySelector("[id = displayswrapper]"),console.log(""+this.constructor.name)}return e.prototype.start=function(){var e=this;return console.log(this.constructor.name+".start"),this.displays=i.remote.screen.getAllDisplays(),this.displays.forEach((function(t){e.views.push(new o.default(t,e.screensWrapper))})),this},e}())).start()},function(e,t,r){var n=r(10);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(12)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(t=r(11)(!1)).push([e.i,"body {\r\n    padding: 10px 20px;\r\n    color: #EEE;\r\n    background-color: #333;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    text-align: center;\r\n  }\r\n\r\n  h1, h2 {\r\n    margin: 0 0 10px;\r\n    font-weight: normal;\r\n  }\r\n\r\n  p {\r\n    font-size: 12px;\r\n  }\r\n\r\n  button {\r\n    background-color: transparent;\r\n    color: #52dac2;\r\n    border: 2px solid #52dac2;\r\n    border-radius: 10px;\r\n    padding: 5px 30px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  button:hover {\r\n    color: #60ffe3;\r\n    border-color: #60ffe3;\r\n  }\r\n\r\n  .button_container {\r\n    padding: 30px 0px;\r\n  }\r\n\r\n  input[type='text'] {\r\n    padding: 5px 10px;\r\n  }\r\n\r\n  input[type='text']:focus {\r\n    outline-color: #52dac2;\r\n    outline-style: solid;\r\n    outline-width: 2px;\r\n  }\r\n\r\n  .display {\r\n    text-align: left;\r\n    margin-bottom: 15px;\r\n    /* width: 75%;\r\n    display: flex;\r\n    flex-direction: column; */\r\n  }\r\n\r\n  .display .title {\r\n    display: inline-block;\r\n    margin-right: 10px;\r\n\r\n    /* width: 100%; */\r\n  }\r\n\r\n  .display .size {\r\n    /* float: left; */\r\n  }\r\n\r\n  .display .button {\r\n    margin-right: 10px;\r\n    /* float: left; */\r\n  }\r\n\r\n  .display .displayfile {\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    max-width: calc(100vw  - 200px);\r\n    text-align: right;\r\n    display: inline-block;\r\n    direction: rtl;\r\n  }\r\n\r\n  .configEditor {\r\n    display: flex;\r\n    flex-direction: column;\r\n    border: greenyellow 2px solid;\r\n  }\r\n\r\n  .configEditor .field {\r\n    border: darkblue 2px solid;\r\n    display: flex;\r\n    flex-direction: row;\r\n  }\r\n\r\n  .configEditor .field .title {\r\n    border: whitesmoke 2px solid;\r\n    display: block;\r\n    width: 50%;\r\n  }\r\n\r\n  .configEditor .field .editor {\r\n    border: orange 2px solid;\r\n    display: block;\r\n    width: 50%;\r\n  }\r\n\r\n  ",""]),e.exports=t},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var i=(s=n,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),o=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[r].concat(o).concat([i]).join("\n")}var s,a,l;return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(n)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);n&&i[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},function(e,t,r){var n,i,o={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),a=function(e,t){return t?t.querySelector(e):document.querySelector(e)},l=function(e){var t={};return function(e,r){if("function"==typeof e)return e();if(void 0===t[e]){var n=a.call(this,e,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,u=0,f=[],d=r(13);function p(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=o[n.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](n.parts[s]);for(;s<n.parts.length;s++)i.parts.push(b(n.parts[s],t))}else{var a=[];for(s=0;s<n.parts.length;s++)a.push(b(n.parts[s],t));o[n.id]={id:n.id,refs:1,parts:a}}}}function h(e,t){for(var r=[],n={},i=0;i<e.length;i++){var o=e[i],s=t.base?o[0]+t.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[s]?n[s].parts.push(a):r.push(n[s]={id:s,parts:[a]})}return r}function g(e,t){var r=l(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=f[f.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),f.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=l(e.insertAt.before,r);r.insertBefore(t,i)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=f.indexOf(e);t>=0&&f.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return r.nc}();n&&(e.attrs.nonce=n)}return m(t,e.attrs),g(e,t),t}function m(e,t){Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])}))}function b(e,t){var r,n,i,o;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var s=u++;r=c||(c=v(t)),n=_.bind(null,r,s,!1),i=_.bind(null,r,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),g(e,t),t}(t),n=S.bind(null,r,t),i=function(){y(r),r.href&&URL.revokeObjectURL(r.href)}):(r=v(t),n=I.bind(null,r),i=function(){y(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=h(e,t);return p(r,t),function(e){for(var n=[],i=0;i<r.length;i++){var s=r[i];(a=o[s.id]).refs--,n.push(a)}e&&p(h(e,t),t);for(i=0;i<n.length;i++){var a;if(0===(a=n[i]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete o[a.id]}}}};var w,x=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function _(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=x(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function I(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function S(e,t,r){var n=r.css,i=r.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(n=d(n)),i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),s=r(2),a=n(r(16)),l=n(r(3)),c=i(r(1)),u=function(){function e(e,t){var r=this;this.openFile=function(){r.showDialog().then((function(e){console.log(r.constructor.name+"("+r.display.id+") Dialog: canceled="+e.canceled),e.canceled?console.log(r.constructor.name+"("+r.display.id+") Dialog: canceled="+e.canceled):(console.log(r.constructor.name+"("+r.display.id+") Dialog: file="+e.filePaths[0]),r.setFile(s.fs2Url(e.filePaths[0])))})).catch((function(e){console.error("Error showing Open File Dialog: "+e,e)}))},this.showDialog=function(){return o.remote.dialog.showOpenDialog({properties:["openFile"],defaultPath:r.file?r.file.pathname:o.remote.app.getPath("documents"),filters:[{name:"Web pages",extensions:["html","htm"]},{name:"Images",extensions:["jpg","png","gif"]},{name:"Movies",extensions:["mkv","avi","mp4"]},{name:"All Files",extensions:["*"]}]})},console.log(this.constructor.name+"("+e.id+")"),this.display=e,this.fileStorageKey=c.Display2StorageKey(this.display.id);var n=window.localStorage.getItem(this.fileStorageKey);n&&(this.file=s.href2Url(n)),this.container=l.default("div",{parent:t,className:"display"});var i=l.default("div",{parent:this.container,className:"row"});l.default("h2",{parent:i,className:"title",text:this.display.id.toString()}),l.default("span",{parent:i,className:"size",text:this.display.workAreaSize.width+" * "+this.display.workAreaSize.height+" @ "+this.display.workArea.x+", "+this.display.workArea.y});var u=l.default("div",{parent:this.container,className:"row"});l.default("button",{parent:u,className:"button",text:"Choose file"}).onclick=this.openFile,this.fileDisplay=l.default("span",{parent:u,className:"displayfile",text:this.file?this.file.pathname:""}),this.file&&(this.fileDisplay.title=this.file.pathname,this.configEditor=new a.default(this.container,this.display.id,this.file))}return e.prototype.setFile=function(e){this.file=e,this.fileDisplay.textContent=this.file.pathname,window.localStorage.setItem(this.fileStorageKey,this.file.href),c.default.send(c.CHANNEL,this.display.id,"load",this.file.href),this.configEditor=new a.default(this.container,this.display.id,this.file)},e}();t.default=u},function(e,t){e.exports=require("url")},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(3)),o=n(r(17)),s=function(){function e(e,t,r){var n=this;o.default.getConfig(t,r).then((function(r){n.config=r,n.userProperties=n.config.general.properties,console.log(n.constructor.name+":"+t+": got Config",n.config),n.createEditor(e)})).catch((function(e){console.error(n.constructor.name+": "+n.configKey+": Error loading default config:"+e+" file: "+r,e)}))}return e.prototype.createEditor=function(e){var t=i.default("div",{parent:e,className:"configEditor"});Object.entries(this.userProperties).sort((function(e,t){var r=e[1],n=t[1];return r.order-n.order})).forEach((function(e){var r=e[1],n=i.default("div",{parent:t,className:"field"});switch(i.default("span",{parent:n,className:"title",html:r.text}),r.type){case"textinput":var o=i.default("input",{parent:n,className:"editor"});r.value&&(o.value=r.value);break;default:i.default("span",{parent:n,className:"editor",text:r.value})}}))},e}();t.default=s},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),a=o(r(18)),l=r(2),c=o(r(19)),u=function(){function e(e,t){this.baseUrl=t,this.baseId=a.default.createHash("md5").update(this.baseUrl.href).digest("hex"),this.displayId=e,this.configId=this.displayId+"-"+this.baseId+"-config",console.log(this.constructor.name+"(): "+this.configId+" = "+this.displayId+" + "+this.baseId+" ("+this.baseUrl.href+")"),this.loadConfig()}return e.prototype.loadConfig=function(){console.log(this.constructor.name+": "+this.configId);var e=localStorage.getItem(this.configId);if(e)try{this.config=JSON.parse(e),this.userProperties=this.config.general.properties,console.log(this.constructor.name+": "+this.configId+": loaded config",this.userProperties,this.config)}catch(t){console.error(this.constructor.name+": "+this.configId+": Error parsing config JSON:"+t+": "+e+" file: "+this.baseUrl.href,t,e)}else console.warn(this.constructor.name+": "+this.configId+": no config: "+this.baseUrl.href)},e.prototype.loadDefault=function(){return n(this,void 0,Promise,(function(){var e,t,r,n;return i(this,(function(i){switch(i.label){case 0:e=this.baseUrl.href.substring(0,this.baseUrl.href.lastIndexOf("/")+1)+"project.json",t=l.href2fs(e),console.log(this.constructor.name+": "+this.configId+": defaultLocation: "+e+" defaultPath: "+t+" file: "+this.baseUrl.href),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,c.default.promises.readFile(t)];case 2:return r=i.sent(),this.config=JSON.parse(r.toString()),this.userProperties=this.config.general.properties,console.log(this.constructor.name+": "+this.configId+": loaded default",this.userProperties,this.config),[3,4];case 3:return n=i.sent(),console.error(this.constructor.name+": "+this.configId+": ERROR loading default:"+n+":"+e,n,e),[3,4];case 4:if(this.config)try{localStorage.setItem(this.configId,JSON.stringify(this.config)),console.log(this.constructor.name+": "+this.configId+": stored default",this.config)}catch(t){console.error(this.constructor.name+": "+this.configId+": ERROR storing default:"+t+":"+e,t,e)}return[2]}}))}))},e}(),f=function(){function e(){}return e.start=function(){var t=Number(process.argv.find((function(e){return/^--displayid=/.test(e)})).split("=")[1]);e.getConfig(t,l.href2Url(window.location.href)).then((function(){e.connectToWallpaper()}))},e.getConfig=function(t,r){return n(this,void 0,Promise,(function(){var n;return i(this,(function(i){switch(i.label){case 0:return(n=e.settings.find((function(e){return e.displayId==t&&e.baseUrl==r})))?[3,2]:(n=new u(t,r),e.settings.push(n),n.config?[3,2]:[4,n.loadDefault()]);case 1:i.sent(),i.label=2;case 2:return[2,n.config]}}))}))},e.connectToWallpaper=function(){window.wallpaper={register:e.registerPage}},e.CHANNEL="-userSettings",e.settings=[],e.onNewSettings=function(t,r){return n(void 0,void 0,Promise,(function(){var t,n,o;return i(this,(function(i){switch(i.label){case 0:t=e.settings[0],i.label=1;case 1:return i.trys.push([1,3,,4]),[4,JSON.parse(r)];case 2:return n=i.sent(),e.listeners.user(n),[3,4];case 3:return o=i.sent(),console.error("ConfigController: "+t.configId+": ERROR updating user setting:"+o+":"+r,o,r),[3,4];case 4:return[2]}}))}))},e.registerPage=function(t){var r=e.settings[0];if(e.listeners=t,console.log("ConfigController: "+r.configId+": "+Object.keys(r.userProperties).length+": register",t,r.userProperties),e.listeners.user){try{e.listeners.user(r.userProperties)}catch(e){console.error("ConfigController: "+r.configId+": ERROR initial user setting:"+e+":",e,r.userProperties)}s.ipcRenderer.on(r.configId+e.CHANNEL,e.onNewSettings)}},e}();t.default=f},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("fs")}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZWxlY3Ryb25cIiIsIndlYnBhY2s6Ly8vLi9zcmMvaW5mcmFzdHJ1Y3R1cmUvV2FsbHBhcGVyc01hbmFnZXIuaXBjLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9VcmwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL3Rvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy93aW5kb3dzL3NjcmVlbm1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dpbmRvd3Mvc2NyZWVubWFuYWdlci5jc3M/YjE5NiIsIndlYnBhY2s6Ly8vLi9zcmMvd2luZG93cy9zY3JlZW5tYW5hZ2VyLmNzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL3NyYy93aW5kb3dzL2Rpc3BsYXl2aWV3LnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcInVybFwiIiwid2VicGFjazovLy8uL3NyYy93aW5kb3dzL2NvbmZpZ2VkaXRvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5mcmFzdHJ1Y3R1cmUvQ29uZmlnQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjcnlwdG9cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicmVxdWlyZSIsIkNIQU5ORUwiLCJGSUxFX1NUT1JBR0VfQVBQRU5ESVgiLCJEaXNwbGF5MlN0b3JhZ2VLZXkiLCJkaXNwbGF5SWQiLCJ0b1N0cmluZyIsIlNUT1JBR0VfS0VZX1JFR0VYIiwiUmVnRXhwIiwiU3RvcmFnZUtleTJEaXNwbGF5Iiwic3RvcmFnZUtleSIsIm1hdGNoZXMiLCJleGVjIiwiZ3JvdXBzIiwiTnVtYmVyIiwicGFyc2VJbnQiLCJFcnJvciIsIklzU3RvcmFnZUtleSIsInRlc3QiLCJlbGVjdHJvbiIsImlwY1JlbmRlcmVyIiwiZnMyVXJsIiwibGluayIsImF1dGgiLCJwYXRoIiwic2xhc2hlcyIsInF1ZXJ5IiwiaGFzaCIsIlVSTE9iamVjdCIsInBhdGhUb0ZpbGVVUkwiLCJob3N0IiwiaG9zdG5hbWUiLCJocmVmIiwicGF0aG5hbWUiLCJwcm90b2NvbCIsInNlYXJjaCIsInBvcnQiLCJ1cmwyZnMiLCJsb2NhbFVybCIsImZpbGVVUkxUb1BhdGgiLCJocmVmMlVybCIsInBhcnNlIiwiaHJlZjJmcyIsIlVybCIsIm9wdGlvbnMiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiY2xhc3NMaXN0IiwiYWRkIiwicGFyZW50IiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0IiwidGV4dENvbnRlbnQiLCJodG1sIiwiaW5uZXJIVE1MIiwiZGlzcGxheXMiLCJ2aWV3cyIsInNjcmVlbnNXcmFwcGVyIiwicXVlcnlTZWxlY3RvciIsImNvbnNvbGUiLCJsb2ciLCJ0aGlzIiwiY29uc3RydWN0b3IiLCJzdGFydCIsInJlbW90ZSIsInNjcmVlbiIsImdldEFsbERpc3BsYXlzIiwiZm9yRWFjaCIsImRpc3BsYXkiLCJwdXNoIiwiY29udGVudCIsInRyYW5zZm9ybSIsInVuZGVmaW5lZCIsImxvY2FscyIsIl9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyIsInVzZVNvdXJjZU1hcCIsImxpc3QiLCJtYXAiLCJpdGVtIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlTWFwIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsImNvbmNhdCIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImpvaW4iLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImRlZHVwZSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJsZW5ndGgiLCJpZCIsIl9pIiwiZm4iLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwid2luZG93IiwiYWxsIiwiYXRvYiIsImFwcGx5IiwiYXJndW1lbnRzIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0IiwiZ2V0RWxlbWVudCIsInN0eWxlVGFyZ2V0IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwiZG9tU3R5bGUiLCJyZWZzIiwiaiIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJuZXdTdHlsZXMiLCJiYXNlIiwicGFydCIsImNzcyIsIm1lZGlhIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJpbnNlcnRJbnRvIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJhdHRycyIsInR5cGUiLCJub25jZSIsImdldE5vbmNlIiwiYWRkQXR0cnMiLCJlbCIsImtleXMiLCJzZXRBdHRyaWJ1dGUiLCJvYmoiLCJ1cGRhdGUiLCJyZW1vdmUiLCJyZXN1bHQiLCJkZWZhdWx0Iiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJ1cGRhdGVMaW5rIiwiYXBwbHlUb1RhZyIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwiaW5kZXgiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsImJsb2IiLCJvbGRTcmMiLCJsb2NhdGlvbiIsImJhc2VVcmwiLCJjdXJyZW50RGlyIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJvcGVuRmlsZSIsInNob3dEaWFsb2ciLCJ0aGVuIiwiY2FuY2VsZWQiLCJmaWxlUGF0aHMiLCJzZXRGaWxlIiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsImRpYWxvZyIsInNob3dPcGVuRGlhbG9nIiwicHJvcGVydGllcyIsImRlZmF1bHRQYXRoIiwiZmlsZSIsImFwcCIsImdldFBhdGgiLCJmaWx0ZXJzIiwiZXh0ZW5zaW9ucyIsImZpbGVTdG9yYWdlS2V5IiwiZmlsZVJlY29yZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjb250YWluZXIiLCJ0b3BSb3ciLCJ3b3JrQXJlYVNpemUiLCJ3aWR0aCIsImhlaWdodCIsIndvcmtBcmVhIiwieCIsInkiLCJmaWxlUm93Iiwib25jbGljayIsImZpbGVEaXNwbGF5IiwidGl0bGUiLCJjb25maWdFZGl0b3IiLCJzZXRJdGVtIiwic2VuZCIsIkRpc3BsYXlWaWV3IiwiZ2V0Q29uZmlnIiwiY29uZmlnIiwidXNlclByb3BlcnRpZXMiLCJnZW5lcmFsIiwiY3JlYXRlRWRpdG9yIiwiZmlsZUxvYWRFcnJvciIsImNvbmZpZ0tleSIsImVkaXRvciIsImVudHJpZXMiLCJzb3J0IiwiZmllbGRhIiwiZmllbGRiIiwib3JkZXIiLCJmaWVsZCIsIndyYXBwZXIiLCJ0ZXh0SW5wdXQiLCJDb25maWdFZGl0b3IiLCJiYXNlSWQiLCJjcmVhdGVIYXNoIiwiZGlnZXN0IiwiY29uZmlnSWQiLCJsb2FkQ29uZmlnIiwiY29uZmlnU3RyaW5nIiwibG9hZENvbmZpZ0Vycm9yIiwid2FybiIsImxvYWREZWZhdWx0IiwiUHJvbWlzZSIsImRlZmF1bHRMb2NhdGlvbiIsInN1YnN0cmluZyIsImxhc3RJbmRleE9mIiwicHJvbWlzZXMiLCJyZWFkRmlsZSIsImJ1ZmZlciIsInN0b3JlRXJyb3IiLCJwcm9jZXNzIiwiYXJndiIsImZpbmQiLCJhcmciLCJzcGxpdCIsIkNvbmZpZ0NvbnRyb2xsZXIiLCJjb25uZWN0VG9XYWxscGFwZXIiLCJzZXR0aW5nIiwic2V0dGluZ3MiLCJjYW5kaWRhdGUiLCJDb25maWdTZXR0aW5ncyIsIndhbGxwYXBlciIsInJlZ2lzdGVyIiwicmVnaXN0ZXJQYWdlIiwib25OZXdTZXR0aW5ncyIsInNldHRpbmdUZXh0IiwiY2hhbmdlZFNldHRpbmdzIiwibGlzdGVuZXJzIiwidXNlciIsImluaXRpYWxFcnJvciIsIm9uIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIs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LFVBQVVDLEtBQUtGLEcsK0JBRWhDek8sUUFBUXlKLE1BQ0oscUJBQXFCdUUsRUFBUXJCLFNBQVEsaUNBQWlDLEVBQWEsSUFBSTZCLEVBQ3ZGLEVBQ0FBLEcsK0JBSUcsRUFBQUYsYUFBZSxTQUFDSSxHQUMzQixJQUFNVixFQUFVRixFQUFpQkcsU0FBUyxHQVExQyxHQU5BSCxFQUFpQlksVUFBWUEsRUFFN0IxTyxRQUFRQyxJQUNKLHFCQUFxQitOLEVBQVFyQixTQUFRLEtBQUs3UixPQUFPcUwsS0FBSzZILEVBQVF2QyxnQkFBZ0JqSixPQUFNLGFBQ3BGa00sRUFDQVYsRUFBUXZDLGdCQUNScUMsRUFBaUJZLFVBQVVDLEtBQU0sQ0FDakMsSUFDSWIsRUFBaUJZLFVBQVVDLEtBQUtYLEVBQVF2QyxnQkFDMUMsTUFBT21ELEdBQ0w1TyxRQUFReUosTUFDSixxQkFBcUJ1RSxFQUFRckIsU0FBUSxnQ0FBZ0NpQyxFQUFZLElBQ2pGQSxFQUNBWixFQUFRdkMsZ0JBRWhCLEVBQUFsTyxZQUFZc1IsR0FBR2IsRUFBUXJCLFNBQVdtQixFQUFpQnpSLFFBQVN5UixFQUFpQlMsaUJBY3pGLEVBcEZBLEdBc0ZBLFVBQWVULEcsY0MzTmYzVCxFQUFPRCxRQUFVa0MsUUFBUSxXLGNDQXpCakMsRUFBT0QsUUFBVWtDLFFBQVEiLCJmaWxlIjoic2NyZWVuX21hbmFnZXIvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJlbGVjdHJvblwiKTsiLCJpbXBvcnQgKiBhcyBlbGVjdHJvbiBmcm9tICdlbGVjdHJvbic7XHJcblxyXG50eXBlIENoYW5uZWwgPSAnd2FsbHBhcGVycyc7XHJcblxyXG5leHBvcnQgY29uc3QgQ0hBTk5FTDogQ2hhbm5lbCA9ICd3YWxscGFwZXJzJztcclxuZXhwb3J0IHR5cGUgQ29tbWFuZHMgPSAnbG9hZCc7XHJcblxyXG5leHBvcnQgY29uc3QgRklMRV9TVE9SQUdFX0FQUEVORElYID0gJy1maWxlJztcclxuXHJcbmV4cG9ydCBjb25zdCBEaXNwbGF5MlN0b3JhZ2VLZXkgPSAoZGlzcGxheUlkOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xyXG4gICAgcmV0dXJuIGRpc3BsYXlJZC50b1N0cmluZygpICsgRklMRV9TVE9SQUdFX0FQUEVORElYO1xyXG59O1xyXG5cclxuY29uc3QgU1RPUkFHRV9LRVlfUkVHRVggPSBuZXcgUmVnRXhwKCBgXig/PGRpc3BsYXlJZD5bMC05XSspKCR7RklMRV9TVE9SQUdFX0FQUEVORElYfSkkYCApO1xyXG5cclxuZXhwb3J0IGNvbnN0IFN0b3JhZ2VLZXkyRGlzcGxheSA9IChzdG9yYWdlS2V5OiBzdHJpbmcpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3QgbWF0Y2hlcyA9IFNUT1JBR0VfS0VZX1JFR0VYLmV4ZWMoc3RvcmFnZUtleSk7XHJcblxyXG4gICAgaWYgKG1hdGNoZXMuZ3JvdXBzLmRpc3BsYXlJZCkge1xyXG4gICAgICAgIHJldHVybiBOdW1iZXIucGFyc2VJbnQobWF0Y2hlcy5ncm91cHMuZGlzcGxheUlkKTtcclxuICAgIH1cclxuICAgIHRocm93IG5ldyBFcnJvcihgU3RvcmFnZSBrZXkgbXVzdCBzdGFydCB3aXRoIGRpc3BsYXkgaWQgYW5kIGVuZCB3aXRoICR7RklMRV9TVE9SQUdFX0FQUEVORElYfSwgbm90OiAke3N0b3JhZ2VLZXl9YCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgSXNTdG9yYWdlS2V5ID0gKHN0b3JhZ2VLZXk6IHN0cmluZyk6IGJvb2xlYW4gPT4gU1RPUkFHRV9LRVlfUkVHRVgudGVzdChzdG9yYWdlS2V5KTtcclxuXHJcbmludGVyZmFjZSBXYWxscGFwZXJzTWFuYWdlcklwY1JlbmRlcmVyIGV4dGVuZHMgZWxlY3Ryb24uSXBjUmVuZGVyZXIge1xyXG4gICAgc2VuZChjaGFubmVsOiBDaGFubmVsLCBkaXNwbGF5SWQ6IG51bWJlciwgY29tbWFuZDogQ29tbWFuZHMsIGZpbGU/OiBzdHJpbmcpOiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBlbGVjdHJvbi5pcGNSZW5kZXJlciBhcyBXYWxscGFwZXJzTWFuYWdlcklwY1JlbmRlcmVyO1xyXG4iLCJpbXBvcnQgdXJsLCB7IFVybCB9IGZyb20gJ3VybCc7XHJcblxyXG5jb25zdCBVUkwyVXJsID0gKFVSTE9iamVjdDogdXJsLlVSTCk6IFVybCA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGF1dGg6IG51bGwsXHJcbiAgICAgICAgcGF0aDogbnVsbCxcclxuICAgICAgICBzbGFzaGVzOiBudWxsLFxyXG4gICAgICAgIHF1ZXJ5OiBudWxsLFxyXG4gICAgICAgIGhhc2g6IFVSTE9iamVjdC5oYXNoLFxyXG4gICAgICAgIGhvc3Q6IFVSTE9iamVjdC5ob3N0LFxyXG4gICAgICAgIGhvc3RuYW1lOiBVUkxPYmplY3QuaG9zdG5hbWUsXHJcbiAgICAgICAgaHJlZjogVVJMT2JqZWN0LmhyZWYsXHJcbiAgICAgICAgcGF0aG5hbWU6IFVSTE9iamVjdC5wYXRobmFtZSxcclxuICAgICAgICBwcm90b2NvbDogVVJMT2JqZWN0LnByb3RvY29sLFxyXG4gICAgICAgIHNlYXJjaDogVVJMT2JqZWN0LnNlYXJjaCxcclxuICAgICAgICBwb3J0OiBVUkxPYmplY3QucG9ydFxyXG4gICAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBmczJVcmwgPSAobGluazogc3RyaW5nKTogVXJsID0+IHtcclxuICAgIHJldHVybiBVUkwyVXJsKHVybC5wYXRoVG9GaWxlVVJMKGxpbmspKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cmwyZnMgPSAobG9jYWxVcmw6IFVybCk6IHN0cmluZyA9PiB7XHJcbiAgICByZXR1cm4gdXJsLmZpbGVVUkxUb1BhdGgobG9jYWxVcmwuaHJlZik7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaHJlZjJVcmwgPSAoaHJlZjogc3RyaW5nKTogVXJsID0+IHtcclxuICAgIHJldHVybiB1cmwucGFyc2UoaHJlZiwgZmFsc2UsIGZhbHNlKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBocmVmMmZzID0gKGhyZWY6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcbiAgICByZXR1cm4gdXJsMmZzKGhyZWYyVXJsKGhyZWYpKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVybDsiLCIvKipcclxuICogQ29udGFpbnMgY29tbW9ubHkgaGVscGVycyBsaWtlIGNyZWF0ZUFuZEFwcGVuZFxyXG4gKiBAbW9kdWxlXHJcbiAqL1xyXG5cclxuaW50ZXJmYWNlIENyZWF0ZUFuZEFwcGVuZE9wdGlvbnMge1xyXG4gICAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gICAgcGFyZW50PzogRWxlbWVudDtcclxuICAgIHRleHQ/OiBzdHJpbmc7XHJcbiAgICBodG1sPzogc3RyaW5nO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGFuIGVsZW1lbnQgd2l0aCB0YWcgbmFtZSwgb3B0aW9uYWwgYXR0YWNoZXMgaXQgdG8gcGFyZW50LCBzZXRzIGNsYXNzTmFtZSwgc2V0cyB0ZXh0Q29udGVudCwgc2V0cyBpbm5lckhUTUxcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gPEsgZXh0ZW5kcyBrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXA+KG5hbWU6IEssIG9wdGlvbnM6IENyZWF0ZUFuZEFwcGVuZE9wdGlvbnMpOiBIVE1MRWxlbWVudFRhZ05hbWVNYXBbS10ge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSk7XHJcblxyXG4gICAgaWYgKG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAob3B0aW9ucy5jbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKG9wdGlvbnMuY2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnMucGFyZW50KSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMucGFyZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0aW9ucy50ZXh0KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBvcHRpb25zLnRleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvcHRpb25zLmh0bWwpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBvcHRpb25zLmh0bWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVsZW1lbnQ7XHJcbn1cclxuXHJcbiIsImltcG9ydCAnLi9zY3JlZW5tYW5hZ2VyLmNzcyc7XHJcblxyXG5pbXBvcnQgeyBEaXNwbGF5LCByZW1vdGUgfSBmcm9tICdlbGVjdHJvbic7XHJcbmltcG9ydCBEaXNwbGF5VmlldyBmcm9tICcuL2Rpc3BsYXl2aWV3JztcclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgRGlzcGxheVZpZXcgZm9yIGVhY2ggZGlzcGxheSBpbiBzY3JlZW4uZ2V0QWxsRGlzcGxheXNcclxuICovXHJcbmNsYXNzIFNjcmVlbk1hbmFnZXIgeyAgICBcclxuXHJcbiAgICBkaXNwbGF5czogRGlzcGxheVtdID0gW107XHJcblxyXG4gICAgdmlld3M6IERpc3BsYXlWaWV3W10gPSBbXTtcclxuXHJcbiAgICBzY3JlZW5zV3JhcHBlcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignW2lkID0gZGlzcGxheXN3cmFwcGVyXScpO1xyXG5cclxuICAgIC8qKiAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfWApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KCk6IFNjcmVlbk1hbmFnZXIge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuY29uc3RydWN0b3IubmFtZX0uc3RhcnRgKTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlzID0gcmVtb3RlLnNjcmVlbi5nZXRBbGxEaXNwbGF5cygpO1xyXG5cclxuICAgICAgICB0aGlzLmRpc3BsYXlzLmZvckVhY2goXHJcbiAgICAgICAgICAgIChkaXNwbGF5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdzLnB1c2gobmV3IERpc3BsYXlWaWV3KGRpc3BsYXksIHRoaXMuc2NyZWVuc1dyYXBwZXIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbm5ldyBTY3JlZW5NYW5hZ2VyKCkuc3RhcnQoKTtcclxuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc2NyZWVubWFuYWdlci5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc2NyZWVubWFuYWdlci5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3NjcmVlbm1hbmFnZXIuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHkge1xcclxcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XFxyXFxuICAgIGNvbG9yOiAjRUVFO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xcclxcbiAgICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcXHJcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgfVxcclxcblxcclxcbiAgaDEsIGgyIHtcXHJcXG4gICAgbWFyZ2luOiAwIDAgMTBweDtcXHJcXG4gICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIHAge1xcclxcbiAgICBmb250LXNpemU6IDEycHg7XFxyXFxuICB9XFxyXFxuXFxyXFxuICBidXR0b24ge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXHJcXG4gICAgY29sb3I6ICM1MmRhYzI7XFxyXFxuICAgIGJvcmRlcjogMnB4IHNvbGlkICM1MmRhYzI7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XFxyXFxuICAgIHBhZGRpbmc6IDVweCAzMHB4O1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICB9XFxyXFxuXFxyXFxuICBidXR0b246aG92ZXIge1xcclxcbiAgICBjb2xvcjogIzYwZmZlMztcXHJcXG4gICAgYm9yZGVyLWNvbG9yOiAjNjBmZmUzO1xcclxcbiAgfVxcclxcblxcclxcbiAgLmJ1dHRvbl9jb250YWluZXIge1xcclxcbiAgICBwYWRkaW5nOiAzMHB4IDBweDtcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIGlucHV0W3R5cGU9J3RleHQnXSB7XFxyXFxuICAgIHBhZGRpbmc6IDVweCAxMHB4O1xcclxcbiAgfVxcclxcblxcclxcbiAgaW5wdXRbdHlwZT0ndGV4dCddOmZvY3VzIHtcXHJcXG4gICAgb3V0bGluZS1jb2xvcjogIzUyZGFjMjtcXHJcXG4gICAgb3V0bGluZS1zdHlsZTogc29saWQ7XFxyXFxuICAgIG91dGxpbmUtd2lkdGg6IDJweDtcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC5kaXNwbGF5IHtcXHJcXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcXHJcXG4gICAgLyogd2lkdGg6IDc1JTtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgKi9cXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC5kaXNwbGF5IC50aXRsZSB7XFxyXFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcclxcblxcclxcbiAgICAvKiB3aWR0aDogMTAwJTsgKi9cXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC5kaXNwbGF5IC5zaXplIHtcXHJcXG4gICAgLyogZmxvYXQ6IGxlZnQ7ICovXFxyXFxuICB9XFxyXFxuXFxyXFxuICAuZGlzcGxheSAuYnV0dG9uIHtcXHJcXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcclxcbiAgICAvKiBmbG9hdDogbGVmdDsgKi9cXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC5kaXNwbGF5IC5kaXNwbGF5ZmlsZSB7XFxyXFxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxyXFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxyXFxuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcclxcbiAgICBtYXgtd2lkdGg6IGNhbGMoMTAwdncgIC0gMjAwcHgpO1xcclxcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcXHJcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcclxcbiAgICBkaXJlY3Rpb246IHJ0bDtcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC5jb25maWdFZGl0b3Ige1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbiAgICBib3JkZXI6IGdyZWVueWVsbG93IDJweCBzb2xpZDtcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC5jb25maWdFZGl0b3IgLmZpZWxkIHtcXHJcXG4gICAgYm9yZGVyOiBkYXJrYmx1ZSAycHggc29saWQ7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxyXFxuICB9XFxyXFxuXFxyXFxuICAuY29uZmlnRWRpdG9yIC5maWVsZCAudGl0bGUge1xcclxcbiAgICBib3JkZXI6IHdoaXRlc21va2UgMnB4IHNvbGlkO1xcclxcbiAgICBkaXNwbGF5OiBibG9jaztcXHJcXG4gICAgd2lkdGg6IDUwJTtcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC5jb25maWdFZGl0b3IgLmZpZWxkIC5lZGl0b3Ige1xcclxcbiAgICBib3JkZXI6IG9yYW5nZSAycHggc29saWQ7XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICB3aWR0aDogNTAlO1xcclxcbiAgfVxcclxcblxcclxcbiAgXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuXG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8ICcnKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICByZXR1cm4gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xufSIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0LCBwYXJlbnQpIHtcbiAgaWYgKHBhcmVudCl7XG4gICAgcmV0dXJuIHBhcmVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG4gIH1cbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQsIHBhcmVudCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0LCBwYXJlbnQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEF0LmJlZm9yZSwgdGFyZ2V0KTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblxuXHRpZihvcHRpb25zLmF0dHJzLm5vbmNlID09PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgbm9uY2UgPSBnZXROb25jZSgpO1xuXHRcdGlmIChub25jZSkge1xuXHRcdFx0b3B0aW9ucy5hdHRycy5ub25jZSA9IG5vbmNlO1xuXHRcdH1cblx0fVxuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGdldE5vbmNlKCkge1xuXHRpZiAodHlwZW9mIF9fd2VicGFja19ub25jZV9fID09PSAndW5kZWZpbmVkJykge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0cmV0dXJuIF9fd2VicGFja19ub25jZV9fO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IHR5cGVvZiBvcHRpb25zLnRyYW5zZm9ybSA9PT0gJ2Z1bmN0aW9uJ1xuXHRcdCA/IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpIFxuXHRcdCA6IG9wdGlvbnMudHJhbnNmb3JtLmRlZmF1bHQob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iLCJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcbiIsImltcG9ydCB7XG4gICAgcmVtb3RlXG59IGZyb20gJ2VsZWN0cm9uJztcblxuaW1wb3J0IFVybCwge2ZzMlVybCwgaHJlZjJVcmx9IGZyb20gJy4uL3V0aWxzL1VybCc7XG5cbmltcG9ydCBDb25maWdFZGl0b3IgZnJvbSAnLi9jb25maWdlZGl0b3InO1xuaW1wb3J0IGNyZWF0ZUFuZEFwcGVuZCBmcm9tICcuLi91dGlscy90b29scyc7XG5pbXBvcnQgaXBjLCB7Q0hBTk5FTCwgRGlzcGxheTJTdG9yYWdlS2V5fSBmcm9tICcuLi9pbmZyYXN0cnVjdHVyZS9XYWxscGFwZXJzTWFuYWdlci5pcGMnO1xuXG5cbi8qKiAqL1xuY2xhc3MgRGlzcGxheVZpZXcge1xuXG4gICAgZGlzcGxheTogRWxlY3Ryb24uRGlzcGxheTtcblxuICAgIGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQ7XG5cbiAgICBmaWxlRGlzcGxheTogSFRNTEVsZW1lbnQ7XG5cbiAgICBmaWxlU3RvcmFnZUtleTogc3RyaW5nO1xuXG4gICAgZmlsZTogVXJsO1xuXG4gICAgY29uZmlnU3RvcmFnZUtleTogc3RyaW5nO1xuXG4gICAgY29uZmlnRWRpdG9yOiBDb25maWdFZGl0b3I7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlY3Ryb24uRGlzcGxheX0gZGlzcGxheSB0byB2aWV3IGluZm9ybWF0aW9uIGFib3V0IGFuZCB1c2VyIHNldHRpbmdzIGVkaXRvclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gcGFyZW50IGVsZW1lbnQgdG8gYXR0YWNoIHZpZXcgdG9cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihkaXNwbGF5OiBFbGVjdHJvbi5EaXNwbGF5LCBwYXJlbnQ6IEVsZW1lbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfSgke2Rpc3BsYXkuaWR9KWApO1xuXG4gICAgICAgIHRoaXMuZGlzcGxheSA9IGRpc3BsYXk7XG4gICAgICAgIHRoaXMuZmlsZVN0b3JhZ2VLZXkgPSBEaXNwbGF5MlN0b3JhZ2VLZXkoIHRoaXMuZGlzcGxheS5pZCApO1xuICAgICAgICBjb25zdCBmaWxlUmVjb3JkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuZmlsZVN0b3JhZ2VLZXkpO1xuXG4gICAgICAgIGlmIChmaWxlUmVjb3JkKSB7XG4gICAgICAgICAgICB0aGlzLmZpbGUgPSBocmVmMlVybChmaWxlUmVjb3JkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9ICovXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY3JlYXRlQW5kQXBwZW5kKCdkaXYnLCB7XG4gICAgICAgICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2Rpc3BsYXknXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHRvcFJvdyA9IGNyZWF0ZUFuZEFwcGVuZCgnZGl2Jywge1xuICAgICAgICAgICAgcGFyZW50OiB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JvdydcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY3JlYXRlQW5kQXBwZW5kKCdoMicsIHtcbiAgICAgICAgICAgIHBhcmVudDogdG9wUm93LFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAndGl0bGUnLFxuICAgICAgICAgICAgdGV4dDogdGhpcy5kaXNwbGF5LmlkLnRvU3RyaW5nKClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY3JlYXRlQW5kQXBwZW5kKCdzcGFuJywge1xuICAgICAgICAgICAgcGFyZW50OiB0b3BSb3csXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdzaXplJyxcbiAgICAgICAgICAgIHRleHQ6IGAke3RoaXMuZGlzcGxheS53b3JrQXJlYVNpemUud2lkdGh9ICogJHt0aGlzLmRpc3BsYXkud29ya0FyZWFTaXplLmhlaWdodH0gQCAke3RoaXMuZGlzcGxheS53b3JrQXJlYS54fSwgJHt0aGlzLmRpc3BsYXkud29ya0FyZWEueX1gXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGZpbGVSb3cgPSBjcmVhdGVBbmRBcHBlbmQoJ2RpdicsIHtcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdyb3cnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNyZWF0ZUFuZEFwcGVuZCgnYnV0dG9uJywge1xuICAgICAgICAgICAgcGFyZW50OiBmaWxlUm93LFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnYnV0dG9uJyxcbiAgICAgICAgICAgIHRleHQ6ICdDaG9vc2UgZmlsZSdcbiAgICAgICAgfSkub25jbGljayA9IHRoaXMub3BlbkZpbGU7ICAgICAgICBcblxuICAgICAgICB0aGlzLmZpbGVEaXNwbGF5ID0gY3JlYXRlQW5kQXBwZW5kKCdzcGFuJywge1xuICAgICAgICAgICAgcGFyZW50OiBmaWxlUm93LFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnZGlzcGxheWZpbGUnLFxuICAgICAgICAgICAgdGV4dDogdGhpcy5maWxlID8gdGhpcy5maWxlLnBhdGhuYW1lIDogJydcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuZmlsZSkge1xuICAgICAgICAgICAgdGhpcy5maWxlRGlzcGxheS50aXRsZSA9IHRoaXMuZmlsZS5wYXRobmFtZTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnRWRpdG9yID0gbmV3IENvbmZpZ0VkaXRvcih0aGlzLmNvbnRhaW5lciwgdGhpcy5kaXNwbGF5LmlkLCB0aGlzLmZpbGUpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBJZiBzaG93RGlhbG9nIHdhc24ndCBjYW5jZWxlZCwgY2FsbCBzZXRGaWxlXG4gICAgICovXG4gICAgb3BlbkZpbGUgPSAoKTogdm9pZCA9PiB7XG4gICAgICAgIHRoaXMuc2hvd0RpYWxvZygpXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfSgke3RoaXMuZGlzcGxheS5pZH0pIERpYWxvZzogY2FuY2VsZWQ9JHtyZXN1bHQuY2FuY2VsZWR9YCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jYW5jZWxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9KCR7dGhpcy5kaXNwbGF5LmlkfSkgRGlhbG9nOiBjYW5jZWxlZD0ke3Jlc3VsdC5jYW5jZWxlZH1gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9KCR7dGhpcy5kaXNwbGF5LmlkfSkgRGlhbG9nOiBmaWxlPSR7cmVzdWx0LmZpbGVQYXRoc1swXX1gKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEZpbGUoZnMyVXJsKHJlc3VsdC5maWxlUGF0aHNbMF0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igc2hvd2luZyBPcGVuIEZpbGUgRGlhbG9nOiAke2Vycn1gLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdG8gb3BlbiBhIGZpbGUsIGUuZy4gd2ViIHBhZ2VzLCBpbWFnZXMsIG1vdmllcyBvciBhbnkgZmlsZS4gRGVmYXVsdHMgdG8gdGhpcy5maWxlIG9yIFwiTXkgRG9jdW1lbnRzXCJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxFbGVjdHJvbi5PcGVuRGlhbG9nUmV0dXJuVmFsdWU+fVxuICAgICAqL1xuICAgIHNob3dEaWFsb2cgPSAoKTogUHJvbWlzZTxFbGVjdHJvbi5PcGVuRGlhbG9nUmV0dXJuVmFsdWU+ID0+IHtcbiAgICAgICAgcmV0dXJuIHJlbW90ZS5kaWFsb2cuc2hvd09wZW5EaWFsb2coe1xuICAgICAgICAgICAgcHJvcGVydGllczogWydvcGVuRmlsZSddLFxuICAgICAgICAgICAgZGVmYXVsdFBhdGg6IHRoaXMuZmlsZSA/IHRoaXMuZmlsZS5wYXRobmFtZSA6IHJlbW90ZS5hcHAuZ2V0UGF0aCgnZG9jdW1lbnRzJyksXG4gICAgICAgICAgICBmaWx0ZXJzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnV2ViIHBhZ2VzJyxcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uczogWydodG1sJywgJ2h0bSddXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdJbWFnZXMnLFxuICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25zOiBbJ2pwZycsICdwbmcnLCAnZ2lmJ11cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ01vdmllcycsXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbnM6IFsnbWt2JywgJ2F2aScsICdtcDQnXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQWxsIEZpbGVzJyxcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uczogWycqJ11cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHNldHMgZmlsZURpc3BsYXksIHN0b3JlcyB0aGUgZmlsZSBVUkwgYW5kIGRvZXMgSVBDIHRvIHRoZSBtYWluIHRocmVhZCB0byBsb2FkIHRoZSBmaWxlXG4gICAgICogQHBhcmFtIHtVcmx9IGZpbGUgVVJMXG4gICAgICovXG4gICAgc2V0RmlsZShmaWxlOiBVcmwpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWxlID0gZmlsZTtcbiAgICAgICAgdGhpcy5maWxlRGlzcGxheS50ZXh0Q29udGVudCA9IHRoaXMuZmlsZS5wYXRobmFtZTtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuZmlsZVN0b3JhZ2VLZXksIHRoaXMuZmlsZS5ocmVmKTtcbiAgICAgICAgaXBjLnNlbmQoQ0hBTk5FTCwgdGhpcy5kaXNwbGF5LmlkLCAnbG9hZCcsIHRoaXMuZmlsZS5ocmVmKTtcbiAgICAgICAgdGhpcy5jb25maWdFZGl0b3IgPSBuZXcgQ29uZmlnRWRpdG9yKHRoaXMuY29udGFpbmVyLCB0aGlzLmRpc3BsYXkuaWQsIHRoaXMuZmlsZSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEaXNwbGF5VmlldztcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInVybFwiKTsiLCJpbXBvcnQgY3JlYXRlQW5kQXBwZW5kIGZyb20gJy4uL3V0aWxzL3Rvb2xzJztcclxuaW1wb3J0IENvbmZpZ0NvbnRyb2xsZXIsIHsgUGFwZXJDb25maWcsIENvbmZpZ1Byb3BlcnRpZXMgfSBmcm9tICcuLi9pbmZyYXN0cnVjdHVyZS9Db25maWdDb250cm9sbGVyJztcclxuaW1wb3J0IFVybCBmcm9tICcuLi91dGlscy9VcmwnO1xyXG5cclxuLyoqICovXHJcbmNsYXNzIENvbmZpZ0VkaXRvciB7XHJcblxyXG4gICAgY29uZmlnOiBQYXBlckNvbmZpZztcclxuICAgIHVzZXJQcm9wZXJ0aWVzOiBDb25maWdQcm9wZXJ0aWVzO1xyXG4gICAgY29uZmlnS2V5OiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBwYXJlbnQgZWxlbWVudCB0byBhdHRhY2ggZWRpdG9yIHRvXHJcbiAgICAgKiBAcGFyYW0ge1VybH0gZmlsZSBwYXRoIG9mIHRoZSBwYWdlXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGlzcGxheUlkIGlkIG9mIHRoZSBkaXNwbGF5XHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogRWxlbWVudCwgZGlzcGxheUlkOiBudW1iZXIsIGZpbGU6IFVybCkge1xyXG5cclxuICAgICAgICBDb25maWdDb250cm9sbGVyLmdldENvbmZpZyhkaXNwbGF5SWQsIGZpbGUpXHJcbiAgICAgICAgICAgIC50aGVuKGNvbmZpZyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcclxuICAgICAgICAgICAgICAgIHRoaXMudXNlclByb3BlcnRpZXMgPSB0aGlzLmNvbmZpZy5nZW5lcmFsLnByb3BlcnRpZXM7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9OiR7ZGlzcGxheUlkfTogZ290IENvbmZpZ2AsIHRoaXMuY29uZmlnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlRWRpdG9yKHBhcmVudCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZmlsZUxvYWRFcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgICAgICAgICBgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9OiAke3RoaXMuY29uZmlnS2V5fTogRXJyb3IgbG9hZGluZyBkZWZhdWx0IGNvbmZpZzoke2ZpbGVMb2FkRXJyb3J9IGZpbGU6ICR7ZmlsZX1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGVMb2FkRXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHBhcmVudCBlbGVtZW50IHRvIGF0dGFjaCBlZGl0b3IgdG9cclxuICAgICAqL1xyXG4gICAgY3JlYXRlRWRpdG9yKHBhcmVudDogRWxlbWVudCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGVkaXRvciA9IGNyZWF0ZUFuZEFwcGVuZCgnZGl2Jywge1xyXG4gICAgICAgICAgICBwYXJlbnQ6IHBhcmVudCxcclxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnY29uZmlnRWRpdG9yJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLnVzZXJQcm9wZXJ0aWVzIClcclxuICAgICAgICAgICAgLnNvcnQoKFssIGZpZWxkYV0sIFssIGZpZWxkYl0pID0+IGZpZWxkYS5vcmRlciAtIGZpZWxkYi5vcmRlciApXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKChbLCBmaWVsZF0pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdyYXBwZXIgPSBjcmVhdGVBbmRBcHBlbmQoJ2RpdicsIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGVkaXRvcixcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdmaWVsZCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNyZWF0ZUFuZEFwcGVuZCgnc3BhbicsIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IHdyYXBwZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAndGl0bGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGh0bWw6IGZpZWxkLnRleHRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZmllbGQudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RleHRpbnB1dCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dElucHV0ID0gY3JlYXRlQW5kQXBwZW5kKCdpbnB1dCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogd3JhcHBlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2VkaXRvcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dElucHV0LnZhbHVlID0gZmllbGQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUFuZEFwcGVuZCgnc3BhbicsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogd3JhcHBlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2VkaXRvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBmaWVsZC52YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbmZpZ0VkaXRvcjtcclxuIiwiaW1wb3J0IHsgaXBjUmVuZGVyZXIgfSBmcm9tICdlbGVjdHJvbic7XHJcbmltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcclxuaW1wb3J0IFVybCwgeyBocmVmMlVybCwgaHJlZjJmcyB9IGZyb20gJy4uL3V0aWxzL1VybCc7XHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcbiAgICBpbnRlcmZhY2UgV2luZG93IHtcclxuICAgICAgICB3YWxscGFwZXI6IHtcclxuICAgICAgICAgICAgcmVnaXN0ZXI6IChsaXN0ZW5lcnM6IHsgdXNlcjogKHNldHRpbmdzOiBDb25maWdQcm9wZXJ0aWVzKSA9PiB2b2lkIH0pID0+IHZvaWQ7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQYXBlckNvbmZpZyB7XHJcbiAgICBjb250ZW50cmF0aW5nOiBzdHJpbmc7XHJcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gICAgZmlsZTogc3RyaW5nO1xyXG4gICAgcHJldmlldzogc3RyaW5nO1xyXG4gICAgdGl0bGU6IHN0cmluZztcclxuICAgIHR5cGU6IHN0cmluZztcclxuICAgIHZpc2liaWxpdHk6IHN0cmluZztcclxuICAgIHRhZ3M6IHN0cmluZ1tdO1xyXG4gICAgZ2VuZXJhbDoge1xyXG4gICAgICAgIHN1cHBvcnRzYXVkaW9wcm9jZXNzaW5nOiBib29sZWFuO1xyXG4gICAgICAgIHByb3BlcnRpZXM6IENvbmZpZ1Byb3BlcnRpZXM7XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpZ1Byb3BlcnRpZXMge1xyXG4gICAgW2tleTogc3RyaW5nXTogQ29uZmlnUHJvcGVydHk7XHJcblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpZ09wdGlvbiB7XHJcbiAgICBsYWJlbDogc3RyaW5nO1xyXG4gICAgdmFsdWU6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb25maWdQcm9wZXJ0eSB7XHJcbiAgICBjb25kaXRpb246IHN0cmluZztcclxuICAgIG9yZGVyOiBudW1iZXI7XHJcbiAgICB0ZXh0OiBzdHJpbmc7XHJcbiAgICB0eXBlOiBzdHJpbmc7XHJcbiAgICBtYXg6IG51bWJlcjtcclxuICAgIG1pbjogbnVtYmVyO1xyXG4gICAgdmFsdWU6IHN0cmluZztcclxuICAgIG9wdGlvbnM6IENvbmZpZ09wdGlvbltdO1xyXG59XHJcblxyXG5jbGFzcyBDb25maWdTZXR0aW5ncyB7XHJcblxyXG4gICAgYmFzZVVybDogVXJsO1xyXG4gICAgcHJpdmF0ZSBiYXNlSWQ6IHN0cmluZztcclxuICAgIGRpc3BsYXlJZDogbnVtYmVyO1xyXG5cclxuICAgIGNvbmZpZ0lkOiBzdHJpbmc7XHJcblxyXG4gICAgY29uZmlnOiBQYXBlckNvbmZpZztcclxuICAgIHVzZXJQcm9wZXJ0aWVzOiBDb25maWdQcm9wZXJ0aWVzO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRpc3BsYXlJZDogbnVtYmVyLCBiYXNlVXJsOiBVcmwpIHtcclxuICAgICAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsOyAvLyB1cmwucGF0aFRvRmlsZVVSTChmaWxlKTtcclxuXHJcbiAgICAgICAgdGhpcy5iYXNlSWQgPSBjcnlwdG8uY3JlYXRlSGFzaCgnbWQ1JykudXBkYXRlKHRoaXMuYmFzZVVybC5ocmVmKS5kaWdlc3QoJ2hleCcpO1xyXG5cclxuICAgICAgICB0aGlzLmRpc3BsYXlJZCA9IGRpc3BsYXlJZDtcclxuXHJcbiAgICAgICAgdGhpcy5jb25maWdJZCA9IGAke3RoaXMuZGlzcGxheUlkfS0ke3RoaXMuYmFzZUlkfS1jb25maWdgO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9KCk6ICR7dGhpcy5jb25maWdJZH0gPSAke3RoaXMuZGlzcGxheUlkfSArICR7dGhpcy5iYXNlSWR9ICgke3RoaXMuYmFzZVVybC5ocmVmfSlgKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkQ29uZmlnKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkQ29uZmlnKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuY29uc3RydWN0b3IubmFtZX06ICR7dGhpcy5jb25maWdJZH1gKTtcclxuICAgICAgICBjb25zdCBjb25maWdTdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmNvbmZpZ0lkKTtcclxuXHJcbiAgICAgICAgaWYgKGNvbmZpZ1N0cmluZykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcgPSBKU09OLnBhcnNlKGNvbmZpZ1N0cmluZyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJQcm9wZXJ0aWVzID0gdGhpcy5jb25maWcuZ2VuZXJhbC5wcm9wZXJ0aWVzO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuY29uc3RydWN0b3IubmFtZX06ICR7dGhpcy5jb25maWdJZH06IGxvYWRlZCBjb25maWdgLCB0aGlzLnVzZXJQcm9wZXJ0aWVzLCB0aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGxvYWRDb25maWdFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgICAgICAgICBgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9OiAke3RoaXMuY29uZmlnSWR9OiBFcnJvciBwYXJzaW5nIGNvbmZpZyBKU09OOiR7bG9hZENvbmZpZ0Vycm9yfTogJHtjb25maWdTdHJpbmd9IGZpbGU6ICR7dGhpcy5iYXNlVXJsLmhyZWZ9YCxcclxuICAgICAgICAgICAgICAgICAgICBsb2FkQ29uZmlnRXJyb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnU3RyaW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9OiAke3RoaXMuY29uZmlnSWR9OiBubyBjb25maWc6ICR7dGhpcy5iYXNlVXJsLmhyZWZ9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGxvYWREZWZhdWx0KCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRMb2NhdGlvbiA9IHRoaXMuYmFzZVVybC5ocmVmLnN1YnN0cmluZygwLCB0aGlzLmJhc2VVcmwuaHJlZi5sYXN0SW5kZXhPZignLycpICsgMSkgKyAncHJvamVjdC5qc29uJztcclxuICAgICAgICBjb25zdCBkZWZhdWx0UGF0aCA9IGhyZWYyZnMoZGVmYXVsdExvY2F0aW9uKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfTogJHt0aGlzLmNvbmZpZ0lkfTogZGVmYXVsdExvY2F0aW9uOiAke2RlZmF1bHRMb2NhdGlvbn0gZGVmYXVsdFBhdGg6ICR7ZGVmYXVsdFBhdGh9IGZpbGU6ICR7dGhpcy5iYXNlVXJsLmhyZWZ9YCk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gY29uc3QgYnVmZmVyID0gYXdhaXQgZnMucHJvbWlzZXMucmVhZEZpbGUoZGVmYXVsdExvY2F0aW9uKTtcclxuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gYXdhaXQgZnMucHJvbWlzZXMucmVhZEZpbGUoZGVmYXVsdFBhdGgpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IEpTT04ucGFyc2UoYnVmZmVyLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy51c2VyUHJvcGVydGllcyA9IHRoaXMuY29uZmlnLmdlbmVyYWwucHJvcGVydGllcztcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuY29uc3RydWN0b3IubmFtZX06ICR7dGhpcy5jb25maWdJZH06IGxvYWRlZCBkZWZhdWx0YCwgdGhpcy51c2VyUHJvcGVydGllcywgdGhpcy5jb25maWcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGxvYWRFcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICAgICAgYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfTogJHt0aGlzLmNvbmZpZ0lkfTogRVJST1IgbG9hZGluZyBkZWZhdWx0OiR7bG9hZEVycm9yfToke2RlZmF1bHRMb2NhdGlvbn1gLFxyXG4gICAgICAgICAgICAgICAgbG9hZEVycm9yLFxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdExvY2F0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmNvbmZpZ0lkLCBKU09OLnN0cmluZ2lmeSh0aGlzLmNvbmZpZykpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuY29uc3RydWN0b3IubmFtZX06ICR7dGhpcy5jb25maWdJZH06IHN0b3JlZCBkZWZhdWx0YCwgdGhpcy5jb25maWcpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChzdG9yZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICAgICAgICAgIGAke3RoaXMuY29uc3RydWN0b3IubmFtZX06ICR7dGhpcy5jb25maWdJZH06IEVSUk9SIHN0b3JpbmcgZGVmYXVsdDoke3N0b3JlRXJyb3J9OiR7ZGVmYXVsdExvY2F0aW9ufWAsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcmVFcnJvcixcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TG9jYXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogTG9hZHMgY29uZmlndXJhdGlvbiBmcm9tIHN0b3JhZ2UgYW5kIHByb3ZpZGVzIGludGVyZmFjZSB0byBjb25maWd1cmF0aW9uIHVwZGF0ZXMgdGhyb3VnaCBjaGFubmVsLlxyXG4gKiBAbW9kdWxlXHJcbiAqL1xyXG5jbGFzcyBDb25maWdDb250cm9sbGVyIHtcclxuICAgIHN0YXRpYyBDSEFOTkVMID0gJy11c2VyU2V0dGluZ3MnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIGJ5IHdhbGxwYXBlci1wcmVsb2FkZXIgdG8gZ2V0IGluaXRpYWwgY29uZmlnIGFuZCB1cGRhdGVzXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzdGFydCgpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBkaXNwbGF5SWQgPSBOdW1iZXIoXHJcbiAgICAgICAgICAgIHByb2Nlc3MuYXJndi5maW5kKChhcmcpID0+IC9eLS1kaXNwbGF5aWQ9Ly50ZXN0KGFyZykgKS5zcGxpdCgnPScpWzFdKTtcclxuICAgICAgICAvLyBHZXQgZGlzcGxheUlkIGZyb20gYXJnViBhbmQgdXJsIGZyb20gd2luZG93LmxvY2F0aW9uLmhyZWZcclxuICAgICAgICBDb25maWdDb250cm9sbGVyLmdldENvbmZpZyhcclxuICAgICAgICAgICAgZGlzcGxheUlkLFxyXG4gICAgICAgICAgICBocmVmMlVybCh3aW5kb3cubG9jYXRpb24uaHJlZilcclxuICAgICAgICApLnRoZW4oXHJcbiAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgIENvbmZpZ0NvbnRyb2xsZXIuY29ubmVjdFRvV2FsbHBhcGVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhc3luYyBnZXRDb25maWcoZGlzcGxheUlkOiBudW1iZXIsIGJhc2VVcmw6IFVybCk6IFByb21pc2U8UGFwZXJDb25maWc+IHtcclxuICAgICAgICBsZXQgc2V0dGluZyA9IENvbmZpZ0NvbnRyb2xsZXIuc2V0dGluZ3MuZmluZChjYW5kaWRhdGUgPT4gY2FuZGlkYXRlLmRpc3BsYXlJZCA9PSBkaXNwbGF5SWQgJiYgY2FuZGlkYXRlLmJhc2VVcmwgPT0gYmFzZVVybCk7XHJcblxyXG4gICAgICAgIGlmICghc2V0dGluZykge1xyXG4gICAgICAgICAgICBzZXR0aW5nID0gbmV3IENvbmZpZ1NldHRpbmdzKGRpc3BsYXlJZCwgYmFzZVVybCk7XHJcbiAgICAgICAgICAgIENvbmZpZ0NvbnRyb2xsZXIuc2V0dGluZ3MucHVzaChzZXR0aW5nKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghc2V0dGluZy5jb25maWcpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHNldHRpbmcubG9hZERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2V0dGluZy5jb25maWc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgc2V0dGluZ3M6IENvbmZpZ1NldHRpbmdzW10gPSBbXTtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBsaXN0ZW5lcnM6IHsgdXNlcjogKHNldHRpbmdzOiBDb25maWdQcm9wZXJ0aWVzKSA9PiB2b2lkIH07XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgb25OZXdTZXR0aW5ncyA9IGFzeW5jIChlLCBzZXR0aW5nVGV4dDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IENvbmZpZ0NvbnRyb2xsZXIuc2V0dGluZ3NbMF07XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZWRTZXR0aW5ncyA9IGF3YWl0IEpTT04ucGFyc2Uoc2V0dGluZ1RleHQpO1xyXG4gICAgICAgICAgICBDb25maWdDb250cm9sbGVyLmxpc3RlbmVycy51c2VyKGNoYW5nZWRTZXR0aW5ncyk7XHJcbiAgICAgICAgfSBjYXRjaCAoc2V0dGluZ3NFcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICAgICAgYENvbmZpZ0NvbnRyb2xsZXI6ICR7c2V0dGluZy5jb25maWdJZH06IEVSUk9SIHVwZGF0aW5nIHVzZXIgc2V0dGluZzoke3NldHRpbmdzRXJyb3J9OiR7c2V0dGluZ1RleHR9YCxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzRXJyb3IsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nVGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlZ2lzdGVyUGFnZSA9IChsaXN0ZW5lcnM6IHsgdXNlcjogKHNldHRpbmdzOiBDb25maWdQcm9wZXJ0aWVzKSA9PiB2b2lkIH0pOiB2b2lkID0+IHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0gQ29uZmlnQ29udHJvbGxlci5zZXR0aW5nc1swXTtcclxuXHJcbiAgICAgICAgQ29uZmlnQ29udHJvbGxlci5saXN0ZW5lcnMgPSBsaXN0ZW5lcnM7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgICBgQ29uZmlnQ29udHJvbGxlcjogJHtzZXR0aW5nLmNvbmZpZ0lkfTogJHtPYmplY3Qua2V5cyhzZXR0aW5nLnVzZXJQcm9wZXJ0aWVzKS5sZW5ndGh9OiByZWdpc3RlcmAsXHJcbiAgICAgICAgICAgIGxpc3RlbmVycyxcclxuICAgICAgICAgICAgc2V0dGluZy51c2VyUHJvcGVydGllcyk7XHJcbiAgICAgICAgaWYgKENvbmZpZ0NvbnRyb2xsZXIubGlzdGVuZXJzLnVzZXIpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIENvbmZpZ0NvbnRyb2xsZXIubGlzdGVuZXJzLnVzZXIoc2V0dGluZy51c2VyUHJvcGVydGllcyk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGluaXRpYWxFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgICAgICAgICBgQ29uZmlnQ29udHJvbGxlcjogJHtzZXR0aW5nLmNvbmZpZ0lkfTogRVJST1IgaW5pdGlhbCB1c2VyIHNldHRpbmc6JHtpbml0aWFsRXJyb3J9OmAsXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbEVycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmcudXNlclByb3BlcnRpZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlwY1JlbmRlcmVyLm9uKHNldHRpbmcuY29uZmlnSWQgKyBDb25maWdDb250cm9sbGVyLkNIQU5ORUwsIENvbmZpZ0NvbnRyb2xsZXIub25OZXdTZXR0aW5ncyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXhwb3NlcyBpbnRlcmZhY2UgdG8gd2FsbHBhcGVyIHdpbmRvdywgZS5nLiB3aW5kb3cud2FsbHBhcGVyLnJlZ2lzdGVyKGxpc3RlbmVycylcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY29ubmVjdFRvV2FsbHBhcGVyKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIEV4cG9zZSBwcm90ZWN0ZWQgbWV0aG9kcyB0aGF0IGFsbG93IHRoZSByZW5kZXJlciBwcm9jZXNzIHRvIHVzZVxyXG4gICAgICAgIC8vIHRoZSBpcGNSZW5kZXJlciB3aXRob3V0IGV4cG9zaW5nIHRoZSBlbnRpcmUgb2JqZWN0XHJcbiAgICAgICAgd2luZG93LndhbGxwYXBlciA9IHtcclxuICAgICAgICAgICAgcmVnaXN0ZXI6IENvbmZpZ0NvbnRyb2xsZXIucmVnaXN0ZXJQYWdlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29uZmlnQ29udHJvbGxlcjtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY3J5cHRvXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=